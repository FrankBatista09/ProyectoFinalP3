@page "/"

<h1>Registro de vehiculos y personas</h1>
<div>
    <h3>Lista de vehiculos</h3>
    <table class="table">
        <thead class="thead-light">
            <tr>
                <th>ID</th>
                <th>Placa</th>
                <th>Marca</th>
                <th>Color</th>
                <th>Descripcion</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var v in Vehiculos)
            {
                <tr>
                    <td>@v.VehiculoId</td>
                    <td>@v.Placa</td>
                    <td>@v.Modelo</td>
                    <td>@v.Color</td>
                    <td>@v.Descripcion</td>
                </tr>
            }
        </tbody>
    </table>
</div>

<div>
    <h3>Lista de Personas</h3>
    <table class="table">
        <thead class="thead-light">
            <tr>
                <th>ID</th>
                <th>Cedula</th>
                <th>Nombre</th>
                <th>Apellido</th>
                <th>Lugar</th>
                <th>VehiculoID</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var p in Personas)
            {
                <tr>
                    <td>@p.PersonaId</td>
                    <td>@p.Cedula</td>
                    <td>@p.Nombre</td>
                    <td>@p.Apellido</td>
                    <td>@p.Lugar</td>
                    <td>@p.VehiculoId</td>
                </tr>
            }
        </tbody>
    </table>
</div>
@code{
    List<Vehiculo> Vehiculos;
    List<Persona> Personas;
    Access ngr = new Access();

    protected async override Task OnInitializedAsync()
    {
        Vehiculos = await ngr.GetVehiculosAsync();
        Personas = await ngr.GetPersonaAsync();
    }

}
